# Supabase NX Workspace Plugin

> This plugin relies on the [npm version of Supabase CLI](https://www.npmjs.com/package/supabase-plugin).  
> Native installations on macOS, Windows, Linux are not tested.

## Getting started

Before working with a local supabase-plugin environment, please make sure that [Docker Desktop](libs/supabase-plugin/README.md) is installed and running. [Supabase CLI](https://supabase-plugin.com/docs/guides/cli) will spin up the database, dashboard and related services locally using docker.

1. Make sure that Docker Desktop is running
2. Run `nx generate @nx-plugins/supabase-plugin:init` to install dependencies
3. Run `nx generate @nx-plugins/supabase-plugin:app` to create the app

> The local development app is always created in `apps/supabase-plugin`. There is currently no option to change the app name as it is generated by Supabase CLI.

### Start supabase locally

Once the app has been created you can start your local dev environment. The first start will take a little longer, as it needs to pull the images.

`nx run supabase:start`

You should be able to open the [Dashboard](http://localhost:54323) now.

### Stopping supabase

In order to make sure that everything shuts down correctly and data is persisted, use the stop target.

`nx run supabase:stop`

> **Don't** stop the images at docker desktop unless you know what you are doing!

### Find urls and keys

You can query the current status, urls and keys by running:

`nx run supabase:status`

Example Output:

```text
Started supabase local development setup.
API URL: http://localhost:54321
GraphQL URL: http://localhost:54321/graphql/v1
DB URL: postgresql://postgres:postgres@localhost:54322/postgres
Studio URL: http://localhost:54323
Inbucket URL: http://localhost:54324
JWT secret: super-secret-jwt-token-with-at-least-32-characters-long
anon key: some-long-key
service_role key: some-long-key
```
